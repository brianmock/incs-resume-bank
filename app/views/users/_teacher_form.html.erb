<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <h2>Please fill out the form below to register</h2><br><br>

  <%= f.hidden_field :access, value: "teacher" %>
  <% if @resume != nil %><input type="hidden" name="resume_id" value="<%= @resume.id %>" /><% end %>
  <div class="field">
    <em><%= f.label :prefix, :class => "teacher-label" %></em>
    <%= f.text_field :prefix, class: 'tiny-field' %><br>
    <em><%= f.label :first_name, :class => "teacher-label" %></em>
    <%= f.text_field :first_name %><br>
    <em><%= f.label :last_name, :class => "teacher-label" %></em>
    <%= f.text_field :last_name %>
  </div><br>

  <div class="field">
    <em>
    <%= f.label(:name, "Please select the option that best fits you *") %></em><br>
    <%= f.radio_button(:register, "bank") %>
    <%= f.label(:name, "I would like to add my resume to the INCS Online Resume Bank only.") %><br>
    <%= f.radio_button(:register, "both") %>
    <%= f.label :name, class: 'label-align' do "I would like to add my resume to the INCS Online Resume Bank AND would like this to serve as my registration for the #{link_to('2016 Teacher Job Fair', 'https://www.incschools.org/events/teacher-job-fair/')} on March 5th, 2016".html_safe  end%>

    <%= f.radio_button(:register, "jobfaironly") %>
    <%= f.label(:name, "I would only like to register for the 2016 Teacher Job Fair and would NOT like my resume to be added to the INCS Online Resume Bank for charter school leaders to see. Note: your resume is required in order to register you for the fair, but we will not include it in our online database if you select this option.", class: 'label-align') %>
  </div>
  <br>

  <div class="field">
    <em><%= f.label(:name, "Email *", :class => "teacher-label") %></em>
    <%= f.text_field :email, class: 'med-field' %>
  </div>

  <div class="field">
    <em><%= f.label(:name, "Password *", :class => "teacher-label") %></em>
    <%= f.password_field :password %>
  </div>

  <div class="field">
    <em><%= f.label :phone_number, :class => "teacher-label" %></em>
    <%= f.phone_field :phone_number %>
  </div>

  <div class="field">
    <em><%= f.label(:name, "Address Line 1", :class => "teacher-label") %></em>
    <%= f.text_field :street, class: 'long-field' %>
  </div>

  <div class="field">
    <em><%= f.label(:name, "Address Line 2", :class => "teacher-label") %></em>
    <%= f.text_field :street_second, class: 'long-field' %>
  </div>

  <div class="field">
    <em><%= f.label :city, :class => "teacher-label" %></em>
    <%= f.text_field :city %>
  </div>

  <div class="field">
    <em><%= f.label :zip, :class => "teacher-label" %></em>
    <%= f.text_field :zip, class: 'tiny-field' %>
  </div>

  <div class="field">
    <em><%= f.label :state, :class => "teacher-label" %></em>
    <%= f.select :state, options_for_select(us_states,@user.state),{}, class: 'form-control' %>
  </div>

  <div class="field">
    <em><%= f.label :country, :class => "teacher-label" %></em>
    <%= f.select :country, options_for_select(countries,@user.country),{}, class: 'form-control' %>
  </div><br><br>

  <div class="field">
    <label><em>What type of position are you looking for? (Check all that apply) *</em></label><br>
    <% Position.all.each do |pos| %>
      <% if @user.positions.pluck(:title).include?(pos.title) %>
        <input type="checkbox" name="positions[]" value="<%= pos.title %>" checked/>
      <% else %>
        <input type="checkbox" name="positions[]" value="<%= pos.title %>" />
      <% end %>
    <label><%= pos.title %></label><br>
    <% end %>
    <input type="checkbox" name="positions[]" value=""/>
    <label>Other (if multiple, separate with a comma)</label>
    <input type="text" name="add-positions" value="" />
  </div><br>

  <div class="field">
    <em>
    <%= f.label(:name, "Are you Licensed to Teach in Illinois? *") %></em><br>
    <%= f.radio_button(:il_licensed, "Yes") %>
    <%= f.label(:name, "Yes") %><br>
    <%= f.radio_button(:il_licensed, "No") %>
    <%= f.label(:name, "No") %><br>
    <%= f.radio_button(:il_licensed, "Other") %>
    <%= f.label(:name, "I am licensed in another state.")%>
    <%= link_to "Click here for Illinois license information", "/uploads/licCheatSheet.pdf" %>
  </div>
  <br>

  <div class="field">
    <label><em>Type of License Held *</em></label><br>
    <% License.all.each do |lic| %>
      <% if @user.licenses.pluck(:name).include?(lic.name) %>
        <input type="checkbox" name="licenses[]" value="<%= lic.name %>" checked/>
      <% else %>
        <input type="checkbox" name="licenses[]" value="<%= lic.name %>" />
      <% end %>
    <label><%= lic.name %></label><br>
    <% end %>
    <input type="checkbox" name="licenses[]" value=""/>
    <label>Other (if multiple, separate with a comma)</label>
    <input type="text" name="add-licenses" value="" />
  </div><br>

  <div class="field">
    <em><%= f.label :degree %></em>
    <%= f.select :degree, options_for_select(degrees),{}, class: 'form-control' %>
  </div><br>

  <div class="field">
    <em><%= f.label :major, :class => "teacher-label2" %></em>
    <%= f.text_field :major %>
  </div>
  <div class="field">
    <em><%= f.label :masters_concentration, :class => "teacher-label2" %></em>
    <%= f.text_field :masters_concentration %>
  </div><br>

  <div class="field">
    <label><em>Endorsements Completed (Check all that apply) *</em></label><br>
    <% Endorsement.all.each do |endo| %>
      <% if @user.endorsements.pluck(:name).include?(endo.name) %>
        <input type="checkbox" name="endorses[]" value="<%= endo.name %>" checked/>
      <% else %>
        <input type="checkbox" name="endorses[]" value="<%= endo.name %>" />
      <% end %>
    <label><%= endo.name %></label><br>
    <% end %>
    <input type="checkbox" name="endorses[]" value=""/>
    <label>Other (if multiple, separate with a comma)</label>
    <input type="text" name="add-endorses" value="" />
  </div><br>

  <div class="field">
    <em><%= f.label(:name, "Years of Teaching/School Administration Experience *") %></em>
    <%= f.select :years, options_for_select(exp_years, @user.years),{}, class: 'form-control' %>
  </div><br>

  <div class="field">
    <em><%= f.label(:name, "Preferred Grade Level") %></em>
    <%= f.select :grade_pref, options_for_select(grades, @user.grade_pref),{}, class: 'form-control' %>
  </div><br>

  <div class="field">
    <em>
    <%= f.label(:name, "Do you have previous experience in a charter?") %></em><br>
    <%= f.radio_button(:previous, true) %>
    <%= f.label(:name, "Yes") %><br>
    <%= f.radio_button(:previous, false) %>
    <%= f.label(:name, "No") %><br>
  </div><br>

  <div class="field">
    <label><em>Preferred Subject(s) *</em></label><br>
    <ul class="checkbox-grid">
      <li><input type="checkbox" name="subs[]" value="None" />
      <label>None</label></li>
      <% Subject.all.order(:subject).each do |sub| %>
        <% if @user.subjects.pluck(:subject).include?(sub.subject) %>
          <li><input type="checkbox" name="subs[]" value="<%= sub.subject %>" checked/>
        <% else %>
          <li><input type="checkbox" name="subs[]" value="<%= sub.subject %>" />
        <% end %>
        <label><%= sub.subject %></label></li>
      <% end %>
    </ul>
  </div>
  <label></label>
  <div class="field2">
    <input type="checkbox" name="subs[]" value=""/>
    <label>Other (if multiple, separate with a comma)</label>
    <input type="text" name="add-subs" value="" /><br>
  </div>
    <label></label><br>

  <div class="field field3">
    <br>
    <em><%= f.label(:location_pref, "Where would you be willing to teach?") %></em><br>
    <%= f.radio_button(:location_pref, "Chicago") %>
    <%= f.label(:name, "Chicago") %><br>
    <%= f.radio_button(:location_pref, "Non-Chicago, Greater Illinois") %>
    <%= f.label(:name, "Non-Chicago, Greater Illinois") %><br>
    <%= f.radio_button(:location_pref, "Chicago or Greater Illinois") %>
    <%= f.label(:name, "Both") %><br>
  </div>

  <div class="field">
    <br>
    <em><%= f.label(:relocation, "Are you open to relocation?") %></em><br>
    <%= f.radio_button(:relocation, true) %>
    <%= f.label(:relocation, "Yes") %><br>
    <%= f.radio_button(:relocation, false) %>
    <%= f.label(:relocation, "No") %><br>
  </div><br>

  <div class="field">
    <label><em>Membership or Alumni Organization (Check all that apply)</em></label><br>
    <% Organization.all.each do |org| %>
      <% if @user.organizations.pluck(:name).include?(org.name) %>
        <input type="checkbox" name="orgs[]" value="<%= org.name %>" checked/>
      <% else %>
        <input type="checkbox" name="orgs[]" value="<%= org.name %>" />
      <% end %>
    <label><%= org.name %></label><br>
    <% end %>
    <input type="checkbox" name="orgs[]" value=""/>
    <label>Other (if multiple, separate with a comma)</label>
    <input type="text" name="add-orgs" value="" />
  </div><br>

  <div class="field">
    <em><%= f.label(:name, "Additional information") %></em><br>
    <%= f.text_area :additional, cols: "100", rows: "10" %>
  </div><br>

  <% if @user.id == nil %>
    <div class="actions">
      <%= f.submit 'Register', :name => 'submit', :class => "btn btn-info" %>
    </div>
  <% else %>
    <div class="actions">
      <%= f.submit 'Update Information', :name => 'submit', :class => "btn btn-info" %>
    </div>
  <% end %>
   <br>
    <br>
<% end %>